<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
    <title>Exercise 5: Use style inheritance to refactor repeated code</title>
    <link rel="stylesheet" type="text/css" href="./res/styles/normalize.css">
    <link rel="stylesheet" type="text/css" href="./res/styles/prettify.css" />
    <link rel="stylesheet" type="text/css" href="./res/styles/styles.css">
</head>

<body>
    <!-- Use the same title as the StartHere -->
    <header>XAM140 Resources and Styles</header>

    <section id="main">
        <h2>Exercise 5: Use style inheritance to refactor repeated code</h2>
<p>The goal of this exercise is to use <em>Style Inheritance</em> to avoid repeated Setters in Styles that target the same type of control.</p>
<blockquote class="info-quote">To complete the exercise, you will need <a href="https://www.visualstudio.com/" target="_blank">Visual Studio for Windows or macOS</a> with the <a href="https://visualstudio.microsoft.com/xamarin/" target="_blank">Xamarin development tools</a> installed. You will also need either an emulator/simulator or a device to run the exercise on. Please see the <a href="https://docs.microsoft.com/xamarin/cross-platform/get-started/installation/" target="_blank">setup page</a> if you need help installing the Xamarin development environment.
</blockquote>

<hr>
<h2>Open the starter solution</h2>
<p>This exercise is a continuation of the previous exercise. You can use your existing solution or begin from the prior <strong>Exercise 4 &gt; Completed</strong> solution in your copy of the cloned or downloaded <a href="https://github.com/XamarinUniversity/XAM140/">course materials</a>.</p>

<hr>
<h2>Create a base style</h2>
<p>Here you will define a new <code>Style</code> with values that overlap with the <code>Style</code> you wrote previously.</p>
<ol>
<li>Open <strong>StandardTipPage.xaml</strong>.</li>
<li>Add a <code>Style</code> to the page's resource dictionary. Use a <code>Key</code> of <strong>baseLabelStyle</strong> and a <code>TargetType</code> of <strong>Label</strong>.</li>
<li>Add a <code>Setter</code> to your style that sets the <code>FontSize</code> property to <strong>22</strong>. Notice how this <code>Setter</code> also appears in your other <code>Style</code>.</li>
<li>Apply the <strong>baseLabelStyle</strong> to the two labels on the page that display the output (i.e. that display the calculated amounts for the tip and the total). Remove the explicit <code>FontSize</code> settings from these labels.</li>
<li>Run the application on a platform of your choice. Verify that the UI looks the same as it did previously.</li>
</ol>
<pre class="prettyprint-collapse"><code>&lt;ResourceDictionary&gt;
    â€¦
    &lt;Style x:Key=&quot;baseLabelStyle&quot; TargetType=&quot;Label&quot;&gt;
        &lt;Setter Property=&quot;FontSize&quot; Value=&quot;22&quot; /&gt;
    &lt;/Style&gt;
&lt;/ResourceDictionary&gt;
</code></pre>


<hr>
<h2>Use style inheritance</h2>
<p>Here you will refactor your two <code>Styles</code> into an inheritance hierarchy in order to eliminate the repeated <code>Setter</code>.</p>
<ol>
<li>Open <strong>StandardTipPage.xaml</strong>.</li>
<li>Locate the <strong>infoLabelStyle</strong> <code>Style</code> in the page's resource dictionary. Set the <code>BasedOn</code> property of this style to your <strong>baseLabelStyle</strong>.</li>
</ol>
<pre class="prettyprint-collapse"><code>&lt;Style x:Key=&quot;infoLabelStyle&quot; BasedOn=&quot;{StaticResource baseLabelStyle}&quot; TargetType=&quot;Label&quot;&gt;
    &lt;Setter Property=&quot;FontAttributes&quot; Value=&quot;Bold&quot; /&gt;
    &lt;Setter Property=&quot;FontSize&quot; Value=&quot;22&quot; /&gt;
&lt;/Style&gt;
</code></pre>

<ol start="3">
<li>Remove the <code>Setter</code> for <code>FontSize</code> from <strong>infoLabelStyle</strong>. It is no longer needed because this <code>Style</code> now inherits the <code>FontSize</code> setting from the base style.</li>
<li>Run the app and verify the UI looks the same.</li>
</ol>
<pre class="prettyprint-collapse"><code>&lt;Style x:Key=&quot;infoLabelStyle&quot; BasedOn=&quot;{StaticResource baseLabelStyle}&quot; TargetType=&quot;Label&quot;&gt;
    &lt;Setter Property=&quot;FontAttributes&quot; Value=&quot;Bold&quot; /&gt;
&lt;/Style&gt;
</code></pre>


<hr>
<h2>Exercise summary</h2>
<p>In this exercise, you used <code>Style</code> inheritance to eliminate repeated code. Although this example was minimal, the benefits become even greater in complex cases where multiple setters can be removed.</p>
<p>You can view the completed solution in the <strong>Exercise 5 &gt; Completed</strong> folder of your copy of the cloned or downloaded <a href="https://github.com/XamarinUniversity/XAM140/">course materials</a>.</p>


        <div class="align-right">
            <a href="../StartHere.html">Go Back</a>
        </div>

    </section>

    <script src="./res/js/jquery.min.js"></script>
    <script src="./res/js/jquery.imagemapster.min.js"></script>
    <script src="./res/js/imagemap.js"></script>
    <script src="./res/js/prettify.js"></script>
    <script src="./res/js/script.js"></script>

    <footer>Copyright (C) 2018 Xamarin Inc., Microsoft. All rights reserved.<br><a target="_blank" href="http://university.xamarin.com">Visit Xamarin University for more classes and content</a></footer>

</body>
</html>